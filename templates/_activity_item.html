<div class="activity-item {% if item.is_today %}today{% endif %} {% if item.completed %}completed{% endif %}"
     id="activity-item-{{ index }}">
    <form method="POST" action="/toggle-activity" class="activity-checkbox-form"
          id="activity-form-{{ index }}"
          hx-post="/toggle-activity"
          hx-target="#activity-item-{{ index }}"
          hx-swap="outerHTML">
        <input type="hidden" name="activity" value="{{ item.text }}">
        <input type="hidden" name="index" value="{{ index }}">
        <label class="activity-checkbox-label">
            <input type="checkbox"
                   {% if item.completed %}checked{% endif %}
                   onchange="this.closest('form').dispatchEvent(new Event('submit', {bubbles: true, cancelable: true}))">
            <span class="activity-date">{{ item.date.strftime('%b %d') }}</span>
            <span class="activity-text">{{ item.text }}</span>
        </label>
    </form>
</div>
